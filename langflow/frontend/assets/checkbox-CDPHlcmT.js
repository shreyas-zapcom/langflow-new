import{br as M,r as c,bx as O,bs as A,j as r,bu as E,bv as w,bw as H,dy as K,c as v,I as P}from"./index-BMduUo-e.js";import{b as L}from"./index-CSrcWjzj.js";var y="Checkbox",[q,Q]=M(y),[z,T]=q(y),N=c.forwardRef((e,o)=>{const{__scopeCheckbox:t,name:d,checked:b,defaultChecked:a,required:p,disabled:l,value:u="on",onCheckedChange:m,...g}=e,[n,x]=c.useState(null),_=O(o,s=>x(s)),k=c.useRef(!1),j=n?!!n.closest("form"):!0,[f=!1,C]=A({prop:b,defaultProp:a,onChange:m}),B=c.useRef(f);return c.useEffect(()=>{const s=n==null?void 0:n.form;if(s){const h=()=>C(B.current);return s.addEventListener("reset",h),()=>s.removeEventListener("reset",h)}},[n,C]),r.jsxs(z,{scope:t,state:f,disabled:l,children:[r.jsx(E.button,{type:"button",role:"checkbox","aria-checked":i(f)?"mixed":f,"aria-required":p,"data-state":S(f),"data-disabled":l?"":void 0,disabled:l,value:u,...g,ref:_,onKeyDown:w(e.onKeyDown,s=>{s.key==="Enter"&&s.preventDefault()}),onClick:w(e.onClick,s=>{C(h=>i(h)?!0:!h),j&&(k.current=s.isPropagationStopped(),k.current||s.stopPropagation())})}),j&&r.jsx(X,{control:n,bubbles:!k.current,name:d,value:u,checked:f,required:p,disabled:l,style:{transform:"translateX(-100%)"}})]})});N.displayName=y;var R="CheckboxIndicator",I=c.forwardRef((e,o)=>{const{__scopeCheckbox:t,forceMount:d,...b}=e,a=T(R,t);return r.jsx(H,{present:d||i(a.state)||a.state===!0,children:r.jsx(E.span,{"data-state":S(a.state),"data-disabled":a.disabled?"":void 0,...b,ref:o,style:{pointerEvents:"none",...e.style}})})});I.displayName=R;var X=e=>{const{control:o,checked:t,bubbles:d=!0,...b}=e,a=c.useRef(null),p=L(t),l=K(o);return c.useEffect(()=>{const u=a.current,m=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(m,"checked").set;if(p!==t&&n){const x=new Event("click",{bubbles:d});u.indeterminate=i(t),n.call(u,i(t)?!1:t),u.dispatchEvent(x)}},[p,t,d]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i(t)?!1:t,...b,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function i(e){return e==="indeterminate"}function S(e){return i(e)?"indeterminate":e?"checked":"unchecked"}var D=N,F=I;const $=c.forwardRef(({className:e,...o},t)=>r.jsx(D,{ref:t,className:v("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...o,children:r.jsx(F,{className:v("flex items-center justify-center text-current"),children:r.jsx(P,{name:"Check",className:"h-4 w-4 stroke-2"})})}));$.displayName=D.displayName;const U=({className:e="",checked:o})=>r.jsx("div",{className:v(e,"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o?"bg-primary text-primary-foreground":""),children:o&&r.jsx("div",{className:"flex items-center justify-center text-current",children:r.jsx(P,{name:"Check",className:"h-4 w-4"})})});export{$ as C,U as a};
